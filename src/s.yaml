edition: 1.0.0
name: jamstack-website
access: default
vars:
  apiSourceCode: api
  domain: {{domain|官方提供一级域名，二级域名用户自己定义，最终生成：<你输入的域名>.resume.net.cn}}.resume.net.cn
  releaseCode: website # 最终构建的代码包
services:
  # api:  # api 服务部分
  #   component: devsapp/fc 
  #   actions:
  #     pre-deploy:
  #       - run: npm i
  #         path: ./functions
  #   props:
  #     region: cn-hangzhou
  #     service:
  #       name: api-service
  #       description: your site dynamic api
  #       internetAccess: true
  #     function:
  #       name: http
  #       description: node run time
  #       runtime: nodejs12
  #       codeUri: ./functions
  #       handler: index.handler
  #       memorySize: 128
  #       timeout: 10
  #     triggers:
  #       - name: httpTrigger
  #         type: http
  #         config:
  #           authType: anonymous
  #           methods:
  #             - GET
  #             - POST
  #             - PUT
  #             - DELETE
  #     customDomains:
  #       - domainName: auto
  #         protocol: HTTP
  #         routeConfigs:
  #           - path: /*
  www: # 静态站点部分
    component: jamstack
    props:
      domain: ${vars.domain}
      favicon: false
      defaultApp: frontend
      apps:
        - name: frontend
          type: jamstack
          releaseCode: ${vars.releaseCode}
          paths:
            - /
          indexFile: index.html
          page404Url: 404.html
        # - name: apis  
        #   type: backend
        #   paths:
        #     - /~apis
        #   proxyUrl: <proxyedApi>
